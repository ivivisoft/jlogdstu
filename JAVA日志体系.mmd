Mind Map generated by NB MindMap plugin
> __version__=`1.1`,showJumps=`true`
---

# JAVA日志体系

## 日志框架\(均实现了自己定制的API\)
> leftSide=`true`


### jdk自带的logging

### log4j
- NOTE
<pre>Apache &#30340;&#19968;&#20010;&#24320;&#25918;&#28304;&#20195;&#30721;&#39033;&#30446;&#65292;&#36890;&#36807;&#20351;&#29992;Log4j&#65292;&#25105;&#20204;&#21487;&#20197;&#25511;&#21046;&#26085;&#24535;&#20449;&#24687;&#36755;&#36865;&#30340;&#30446;&#30340;&#22320;&#26159;&#25511;&#21046;&#21488;&#12289;&#25991;&#20214;&#12289;GUI&#32452;&#20214;&#12289;&#29978;&#33267;&#26159;&#22871;&#25509;&#21475;&#26381;&#21153; &#22120;&#12289;NT&#30340;&#20107;&#20214;&#35760;&#24405;&#22120;&#12289;UNIX Syslog&#23432;&#25252;&#36827;&#31243;&#31561;&#65307;&#29992;&#25143;&#20063;&#21487;&#20197;&#25511;&#21046;&#27599;&#19968;&#26465;&#26085;&#24535;&#30340;&#36755;&#20986;&#26684;&#24335;&#65307;&#36890;&#36807;&#23450;&#20041;&#27599;&#19968;&#26465;&#26085;&#24535;&#20449;&#24687;&#30340;&#32423;&#21035;&#65292;&#29992;&#25143;&#33021;&#22815;&#26356;&#21152;&#32454;&#33268;&#22320;&#25511;&#21046;&#26085;&#24535;&#30340;&#29983;&#25104;&#36807;&#31243;&#12290;&#36825;&#20123;&#21487;&#20197;&#36890;&#36807;&#19968;&#20010; &#37197;&#32622;&#25991;&#20214;&#26469;&#28789;&#27963;&#22320;&#36827;&#34892;&#37197;&#32622;&#65292;&#32780;&#19981;&#38656;&#35201;&#20462;&#25913;&#31243;&#24207;&#20195;&#30721;&#12290;&#26368;&#26032;&#30340;&#30446;&#21069;&#29256;&#26412;&#20026;log4j 1.2&#65292;maven &#20381;&#36182;&#22914;&#19979;&#65306;

    &lt;dependency&gt;
    &nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;log4j&lt;/groupId&gt;
    &nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;log4j&lt;/artifactId&gt;
    &nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.2.17&lt;/version&gt;
    &lt;/dependency&gt;


&#38598;&#25104;jar&#21253;:log4j-1.2-api&#12289;log4j-jcl&#12289;log4j-slf4j-impl&#12289;log4j-jul</pre>

### log4j2
- NOTE
<pre>&#38598;&#25104;jar&#21253;:log4j&#12289;log4j-api&#12289;log4j-core</pre>

### logback
- NOTE
<pre>Logback &#26159;&#30001; log4j &#21019;&#22987;&#20154;&#35774;&#35745;&#30340;&#21448;&#19968;&#20010;&#24320;&#28304;&#26085;&#35760;&#32452;&#20214;&#65292;Logback &#24403;&#21069;&#20998;&#25104;&#19977;&#20010;&#27169;&#22359;&#65306;logback-core,logback- classic&#21644;logback-access&#12290;logback-core&#26159;&#20854;&#23427;&#20004;&#20010;&#27169;&#22359;&#30340;&#22522;&#30784;&#27169;&#22359;&#65292;logback-classic&#26159;log4j&#30340;&#19968;&#20010; &#25913;&#33391;&#29256;&#26412;&#12290;&#27492;&#22806;logback-classic &#23436;&#25972;&#23454;&#29616; SLF4J API &#20351;&#20320;&#21487;&#20197;&#24456;&#26041;&#20415;&#22320;&#26356;&#25442;&#25104;&#20854;&#23427;&#26085;&#35760;&#31995;&#32479;&#22914;log4j&#25110;JDK14 Logging&#12290;logback-access&#35775;&#38382;&#27169;&#22359;&#19982;Servlet&#23481;&#22120;&#38598;&#25104;&#25552;&#20379;&#36890;&#36807;Http&#26469;&#35775;&#38382;&#26085;&#35760;&#30340;&#21151;&#33021;&#12290;maven &#26368;&#26032;&#20381;&#36182;&#22914;&#19979;&#65306;

    &lt;dependency&gt;
        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;
        &lt;version&gt;1.1.6&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;
        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;
        &lt;version&gt;1.1.6&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;
        &lt;version&gt;1.7.18&lt;/version&gt;
    &lt;/dependency&gt;

&#38598;&#25104;jar&#21253;:logback-core&#12289;logback-classic&#12289;logback-access

Logback &#20316;&#20026;&#19968;&#20010;&#36890;&#29992;&#21487;&#38752;&#12289;&#24555;&#36895;&#28789;&#27963;&#30340;&#26085;&#24535;&#26694;&#26550;&#65292;&#23558;&#20316;&#20026; Log4j &#30340;&#26367;&#20195;&#21644; SLF4J &#32452;&#25104;&#26032;&#30340;&#26085;&#24535;&#31995;&#32479;&#30340;&#23436;&#25972;&#23454;&#29616;&#12290;Logback &#22768;&#31216;&#20855;&#26377;&#26497;&#20339;&#30340;&#24615;&#33021;&#65292;&ldquo; &#26576;&#20123;&#20851;&#38190;&#25805;&#20316;&#65292;&#27604;&#22914;&#21028;&#23450;&#26159;&#21542;&#35760;&#24405;&#19968;&#26465;&#26085;&#24535;&#35821;&#21477;&#30340;&#25805;&#20316;&#65292;&#20854;&#24615;&#33021;&#24471;&#21040;&#20102;&#26174;&#33879;&#30340;&#25552;&#39640;&#12290;&#36825;&#20010;&#25805;&#20316;&#22312;LogBack&#20013;&#38656;&#35201;3&#32435;&#31186;&#65292;&#32780;&#22312;Log4J&#20013;&#21017;&#38656;&#35201;30&#32435;&#31186;&#12290; LogBack &#21019;&#24314;&#35760;&#24405;&#22120;&#65288;logger&#65289;&#30340;&#36895;&#24230;&#20063;&#26356;&#24555;&#65306;13&#24494;&#31186;&#65292;&#32780;&#22312;Log4J&#20013;&#38656;&#35201;23&#24494;&#31186;&#12290;&#26356;&#37325;&#35201;&#30340;&#26159;&#65292;&#23427;&#33719;&#21462;&#24050;&#23384;&#22312;&#30340;&#35760;&#24405;&#22120;&#21482;&#38656;94&#32435;&#31186;&#65292;&#32780; Log4J&#38656;&#35201;2234&#32435;&#31186;&#65292;&#26102;&#38388;&#20943;&#23569;&#21040;&#20102;1/23&#12290;&#36319;JUL&#30456;&#27604;&#30340;&#24615;&#33021;&#25552;&#39640;&#20063;&#26159;&#26174;&#33879;&#30340;&rdquo;&#12290;&#21478;&#22806;&#65292;Logback&#30340;&#25152;&#26377;&#25991;&#26723;&#26159;&#20840;&#38754;&#20813;&#36153;&#25552;&#20379;&#30340;&#65292;&#19981;&#35937;Log4J&#37027;&#26679;&#21482;&#25552;&#20379;&#37096;&#20998;&#20813;&#36153;&#25991;&#26723;&#32780;&#38656;&#35201;&#29992;&#25143;&#21435;&#36141;&#20080;&#20184;&#36153;&#25991;&#26723;&#12290;&#20855;&#20307;&#21253;&#25324;&#65306;
        &#26356;&#24555;&#30340;&#25191;&#34892;&#36895;&#24230;
        &#26356;&#20805;&#20998;&#30340;&#27979;&#35797;
        logback-classic &#38750;&#24120;&#33258;&#28982;&#30340;&#23454;&#29616;&#20102;SLF4J
        &#20351;&#29992;XML&#37197;&#32622;&#25991;&#20214;&#25110;&#32773;Groovy
        &#33258;&#21160;&#37325;&#26032;&#36733;&#20837;&#37197;&#32622;&#25991;&#20214;
        &#20248;&#38597;&#22320;&#20174;I/O&#38169;&#35823;&#20013;&#24674;&#22797;
        &#33258;&#21160;&#28165;&#38500;&#26087;&#30340;&#26085;&#24535;&#24402;&#26723;&#25991;&#20214;
        &#33258;&#21160;&#21387;&#32553;&#24402;&#26723;&#26085;&#24535;&#25991;&#20214;
        &#35880;&#24910;&#27169;&#24335;
        Lilith
        &#37197;&#32622;&#25991;&#20214;&#20013;&#30340;&#26465;&#20214;&#22788;&#29702;
        &#26356;&#20016;&#23500;&#30340;&#36807;&#28388;
        Logback-access&#27169;&#22359;&#65292;&#25552;&#20379;&#20102;&#36890;&#36807;HTTP&#35775;&#38382;&#26085;&#24535;&#30340;&#33021;&#21147;&#65292;&#26159;logback&#19981;&#21487;&#25110;&#32570;&#30340;&#32452;&#25104;&#37096;&#20998;

</pre>

## 日志门面\(统一抽象出来的接口,让用户在程序运行期间去选择具体的体制实现\)

### Apache commons\-logging
- NOTE
<pre>&#30446;&#21069;&#24191;&#27867;&#20351;&#29992;&#30340;Java&#26085;&#24535;&#38376;&#38754;&#24211;&#12290;&#36890;&#36807;&#21160;&#24577;&#26597;&#25214;&#30340;&#26426;&#21046;&#65292;&#22312;&#31243;&#24207;&#36816;&#34892;&#26102;&#33258;&#21160;&#25214;&#20986;&#30495;&#27491;&#20351;&#29992;&#30340;&#26085;&#24535;&#24211;&#12290;&#20294;&#30001;&#20110;&#23427;&#20351;&#29992;&#20102;ClassLoader&#23547;&#25214;&#21644;&#36733;&#20837;&#24213;&#23618;&#30340;&#26085;&#24535;&#24211;&#65292; &#23548;&#33268;&#20102;&#35937;OSGI&#36825;&#26679;&#30340;&#26694;&#26550;&#26080;&#27861;&#27491;&#24120;&#24037;&#20316;&#65292;&#30001;&#20110;&#20854;&#19981;&#21516;&#30340;&#25554;&#20214;&#20351;&#29992;&#33258;&#24049;&#30340;ClassLoader&#12290; OSGI&#30340;&#36825;&#31181;&#26426;&#21046;&#20445;&#35777;&#20102;&#25554;&#20214;&#20114;&#30456;&#29420;&#31435;&#65292;&#28982;&#32780;&#30830;&#20351;Apache Common-Logging&#26080;&#27861;&#24037;&#20316;&#12290;

&#38598;&#25104;jar&#21253;:commons-logging</pre>

### slf4j
- NOTE
<pre>&#31616;&#21333;&#26085;&#35760;&#38376;&#38754;(Facade) SLF4J &#26159;&#20026;&#21508;&#31181; loging APIs &#25552;&#20379;&#19968;&#20010;&#31616;&#21333;&#32479;&#19968;&#30340;&#25509;&#21475;&#65292;&#20174;&#32780;&#20351;&#24471;&#26368;&#32456;&#29992;&#25143;&#33021;&#22815;&#22312;&#37096;&#32626;&#30340;&#26102;&#20505;&#37197;&#32622;&#33258;&#24049;&#24076;&#26395;&#30340;loging APIs&#23454;&#29616;&#12290; Logging API&#23454;&#29616;&#26082;&#21487;&#20197;&#36873;&#25321;&#30452;&#25509;&#23454;&#29616;SLF4J&#25509;&#30340;loging APIs&#22914;&#65306; NLOG4J&#12289;SimpleLogger&#12290;&#20063;&#21487;&#20197;&#36890;&#36807;SLF4J&#25552;&#20379;&#30340;API&#23454;&#29616;&#26469;&#24320;&#21457;&#30456;&#24212;&#30340;&#36866;&#37197;&#22120;&#22914;Log4jLoggerAdapter&#12289;JDK14LoggerAdapter&#12290;

SLF4J &#24211;&#31867;&#20284;&#20110; Apache Common-Logging&#12290;&#20294;&#26159;&#65292;&#20182;&#22312;&#32534;&#35793;&#26102;&#38745;&#24577;&#32465;&#23450;&#30495;&#27491;&#30340;Log&#24211;&#12290;&#20351;&#29992;SLF4J&#26102;&#65292;&#22914;&#26524;&#20320;&#38656;&#35201;&#20351;&#29992;&#26576;&#19968;&#31181;&#26085;&#24535;&#23454;&#29616;&#65292;&#37027;&#20040;&#20320;&#24517;&#39035;&#36873;&#25321;&#27491;&#30830;&#30340;SLF4J&#30340;jar&#21253;&#30340;&#38598;&#21512;&#65292;&#22914;&#27492;&#20415;&#21487;&#20197;&#22312;OSGI&#20013;&#20351;&#29992;&#20102;&#12290;&#21478;&#22806;&#65292;SLF4J &#25903;&#25345;&#21442;&#25968;&#21270;&#30340;log&#23383;&#31526;&#20018;&#65292;&#36991;&#20813;&#20102;&#20043;&#21069;&#20026;&#20102;&#20943;&#23569;&#23383;&#31526;&#20018;&#25340;&#25509;&#30340;&#24615;&#33021;&#25439;&#32791;&#32780;&#19981;&#24471;&#19981;&#20889;&#30340;if(logger.isDebugEnable())&#65292;&#29616;&#22312;&#20320;&#21487;&#20197;&#30452;&#25509;&#20889;&#65306;logger.debug(&ldquo;current user is: {}&rdquo;, user)&#12290;&#25340;&#35013;&#28040;&#24687;&#34987;&#25512;&#36831;&#21040;&#20102;&#23427;&#33021;&#22815;&#30830;&#23450;&#26159;&#19981;&#26159;&#35201;&#26174;&#31034;&#36825;&#26465;&#28040;&#24687;&#30340;&#26102;&#20505;&#65292;&#20294;&#26159;&#33719;&#21462;&#21442;&#25968;&#30340;&#20195;&#20215;&#24182;&#27809;&#26377;&#24184;&#20813;&#12290;&#21516;&#26102;&#65292;&#26085;&#24535;&#20013;&#30340;&#21442;&#25968;&#33509;&#36229;&#36807;&#19977;&#20010;&#65292;&#21017;&#38656;&#35201;&#23558;&#21442;&#25968;&#20197;&#25968;&#32452;&#30340;&#24418;&#24335;&#20256;&#20837;&#65292;&#22914;&#65306;
    Object[] params = {value1, value2, value3};
    logger.debug(&ldquo;first value: {}, second value: {} and third value: {}.&rdquo;, params);


&#38598;&#25104;jar&#21253;:slf4j-api&#12289;slf4j-log4j12&#12289;slf4j-simple&#12289;jcl-over-slf4j&#12289;slf4j-jdk14&#12289;log4j-over-slf4j&#12289;slf4j-jcl</pre>
